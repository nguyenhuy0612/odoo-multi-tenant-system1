2025-08-11 16:01:15 [STEP] [Step 1/12] Checking system prerequisites and requirements
2025-08-11 16:01:15 [WARNING] This script requires sudo access for certificate operations
2025-08-11 16:01:15 [INFO] You may be prompted for your password
2025-08-11 16:01:15 [SUCCESS] Domain khudroo.com resolves to: 192.168.50.2
2025-08-11 16:01:15 [SUCCESS] All prerequisites check passed
2025-08-11 16:01:15 [STEP] [Step 2/12] Setting up Certbot SSL certificate client
2025-08-11 16:01:15 [SUCCESS] Certbot already available
certbot 4.2.0
2025-08-11 16:01:16 [STEP] [Step 3/12] Backing up existing configurations
2025-08-11 16:01:16 [SUCCESS] Nginx SSL configurations backed up to ./ssl/backup/20250811-160115
2025-08-11 16:01:16 [SUCCESS] Docker Compose configuration backed up
2025-08-11 16:01:16 [STEP] [Step 4/12] Performing complete Docker cleanup to fix container issues
2025-08-11 16:01:16 [INFO] Stopping all services...
2025-08-11 16:01:16 [INFO] Stopping all running containers...
2025-08-11 16:01:16 [INFO] Removing all containers...
2025-08-11 16:01:16 [INFO] Removing unused images and networks...
Total reclaimed space: 0B
2025-08-11 16:01:16 [INFO] Removing volumes (keeping data volumes)...
Total reclaimed space: 0B
2025-08-11 16:01:16 [INFO] Restarting Docker daemon...
2025-08-11 16:01:27 [SUCCESS] Docker cleanup completed
2025-08-11 16:01:27 [STEP] [Step 5/12] Setting up DH parameters for perfect forward secrecy
2025-08-11 16:01:27 [SUCCESS] DH parameters already exist
2025-08-11 16:01:27 [STEP] [Step 6/12] Preparing system for certificate request
2025-08-11 16:01:27 [SUCCESS] Port 80 is available for certificate validation
2025-08-11 16:01:27 [STEP] [Step 7/12] Requesting SSL certificate from Let's Encrypt
2025-08-11 16:01:33 [INFO] Requesting wildcard certificate for *.khudroo.com
2025-08-11 16:01:33 [WARNING] Wildcard certificates require DNS validation
2025-08-11 16:01:33 [INFO] You will need to add TXT records to your DNS settings
Saving debug log to /var/log/letsencrypt/letsencrypt.log
2025-08-11 16:01:38 [SUCCESS] Wildcard certificate obtained successfully!
2025-08-11 16:01:38 [INFO] Certificate Information:
2025-08-11 16:01:38 [INFO] subject=CN = khudroo.com
2025-08-11 16:01:38 [INFO] issuer=C = US, O = Let's Encrypt, CN = E5
2025-08-11 16:01:38 [INFO] notBefore=Aug 11 09:03:06 2025 GMT
2025-08-11 16:01:38 [INFO] notAfter=Nov  9 09:03:05 2025 GMT
2025-08-11 16:01:38 [INFO] Domains covered by this certificate:
2025-08-11 16:01:38 [STEP] [Step 8/12] Setting up certificates for Docker containers
2025-08-11 16:01:38 [ERROR] No certificates found in Docker volume or host system at /etc/letsencrypt/live/khudroo.com/
2025-08-11 16:01:38 [ERROR] Check full logs at: ./ssl/logs/ssl-production-20250811-160115.log
